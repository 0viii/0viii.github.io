<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historial de Viajes - Didi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
        }

        header {
            background-color: #ff6600;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .user-menu {
            display: flex;
            align-items: center;
        }

        .user-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: #ff6600;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 15px;
        }

        .history-title {
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            border-bottom: 1px solid #eee;
        }

        .trip-list {
            padding: 0 20px;
        }

        .trip-item {
            padding: 15px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .trip-info {
            flex: 1;
        }

        .trip-date {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .trip-route {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .trip-route .from {
            color: #333;
        }

        .trip-route .to {
            color: #333;
            font-weight: bold;
        }

        .trip-service {
            font-size: 14px;
            color: #666;
        }

        .trip-cost {
            font-size: 18px;
            font-weight: bold;
            color: #ff6600;
        }

        .trip-rating {
            margin-top: 5px;
            display: flex;
            align-items: center;
        }

        .stars {
            color: #ffcc00;
            margin-right: 5px;
        }

        .filter-tabs {
            display: flex;
            padding: 10px 20px;
            border-bottom: 1px solid #eee;
        }

        .filter-tab {
            padding: 8px 15px;
            margin-right: 10px;
            border-radius: 20px;
            background-color: #f5f5f5;
            cursor: pointer;
            font-size: 14px;
        }

        .filter-tab.active {
            background-color: #ff6600;
            color: white;
        }

        .empty-history {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .empty-history-icon {
            font-size: 50px;
            margin-bottom: 15px;
        }

        footer {
            background-color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid #eee;
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 400px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 5px 10px;
            cursor: pointer;
            color: #666;
            text-decoration: none;
        }

        .nav-item.active {
            color: #ff6600;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .nav-label {
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">DIDI</div>
            <div class="user-menu">
                <span>Hola, Usuario</span>
                <div class="user-icon">U</div>
            </div>
        </header>

        <div class="history-title">Historial de Viajes</div>

        <div class="filter-tabs">
            <div class="filter-tab active" data-filter="all">Todos</div>
            <div class="filter-tab" data-filter="week">Esta semana</div>
            <div class="filter-tab" data-filter="month">Este mes</div>
        </div>

        <div class="trip-list" id="tripList">
            <!-- Los viajes se cargar√°n aqu√≠ din√°micamente -->
        </div>

        <div class="empty-history" id="emptyHistory" style="display: none;">
            <div class="empty-history-icon">üöó</div>
            <p>No hay viajes en tu historial</p>
        </div>

        <footer>
            <a href="index.html" class="nav-item">
                <div class="nav-icon">üöó</div>
                <div class="nav-label">Viajar</div>
            </a>
            <div class="nav-item active">
                <div class="nav-icon">üìã</div>
                <div class="nav-label">Historial</div>
            </a>
            <a href="mensajes.html" class="nav-item">
                <div class="nav-icon">üí¨</div>
                <div class="nav-label">Mensajes</div>
            </a>
            <a href="perfil.html" class="nav-item">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Perfil</div>
            </a>
        </footer>
    </div>

    <script>
        // Datos de ejemplo para el historial
        const tripHistory = [
            {
                id: 1,
                date: "2023-10-15",
                from: "Calle 80 #12-30",
                to: "Centro Comercial Andino",
                service: "Econ√≥mico",
                cost: 15000,
                rating: 5,
                driver: "Carlos Mart√≠nez"
            },
            {
                id: 2,
                date: "2023-10-10",
                from: "Aeropuerto El Dorado",
                to: "Hotel Tequendama",
                service: "Confort",
                cost: 35000,
                rating: 4,
                driver: "Ana Rodr√≠guez"
            },
            {
                id: 3,
                date: "2023-10-05",
                from: "Carrera 7 #120-50",
                to: "Parque 93",
                service: "Premium",
                cost: 20000,
                rating: 5,
                driver: "Miguel √Ångel"
            },
            {
                id: 4,
                date: "2023-09-28",
                from: "Unicentro",
                to: "Calle 100 con 7ma",
                service: "Econ√≥mico",
                cost: 12000,
                rating: 3,
                driver: "Laura S√°nchez"
            },
            {
                id: 5,
                date: "2023-09-20",
                from: "Centro Internacional",
                to: "Museo Nacional",
                service: "Confort",
                cost: 18000,
                rating: 4,
                driver: "Roberto D√≠az"
            }
        ];

        const tripList = document.getElementById('tripList');
        const emptyHistory = document.getElementById('emptyHistory');
        const filterTabs = document.querySelectorAll('.filter-tab');

        // Funci√≥n para formatear la fecha
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('es-ES', options);
        }

        // Funci√≥n para formatear el costo
        function formatCost(cost) {
            return `$${cost.toLocaleString('es-ES')}`;
        }

        // Funci√≥n para generar estrellas de calificaci√≥n
        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    stars += '‚òÖ';
                } else {
                    stars += '‚òÜ';
                }
            }
            return stars;
        }

        // Funci√≥n para cargar el historial de viajes
        function loadTripHistory(filter = 'all') {
            tripList.innerHTML = '';
            
            let filteredTrips = tripHistory;
            
            // Aplicar filtros si es necesario
            if (filter !== 'all') {
                const now = new Date();
                filteredTrips = tripHistory.filter(trip => {
                    const tripDate = new Date(trip.date);
                    
                    if (filter === 'week') {
                        const oneWeekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                        return tripDate >= oneWeekAgo;
                    } else if (filter === 'month') {
                        const oneMonthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
                        return tripDate >= oneMonthAgo;
                    }
                    
                    return true;
                });
            }
            
            if (filteredTrips.length === 0) {
                emptyHistory.style.display = 'block';
                return;
            }
            
            emptyHistory.style.display = 'none';
            
            filteredTrips.forEach(trip => {
                const tripItem = document.createElement('div');
                tripItem.className = 'trip-item';
                
                tripItem.innerHTML = `
                    <div class="trip-info">
                        <div class="trip-date">${formatDate(trip.date)}</div>
                        <div class="trip-route">
                            <span class="from">${trip.from}</span> ‚Üí <span class="to">${trip.to}</span>
                        </div>
                        <div class="trip-service">${trip.service} ‚Ä¢ ${trip.driver}</div>
                        <div class="trip-rating">
                            <span class="stars">${generateStars(trip.rating)}</span>
                            <span>${trip.rating}/5</span>
                        </div>
                    </div>
                    <div class="trip-cost">${formatCost(trip.cost)}</div>
                `;
                
                tripList.appendChild(tripItem);
            });
        }

        // A√±adir event listeners a los filtros
        filterTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                filterTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                loadTripHistory(tab.getAttribute('data-filter'));
            });
        });

        // Cargar el historial cuando la p√°gina se abra
        loadTripHistory();
    </script>
</body>
</html>
